window.social_share=null,function(){"use strict";function a(){}a.prototype={},a.prototype.vars={windowWidth:600,windowHeight:400,countClass:".share-count",googleApiKey:"AIzaSyCBtrDzN1jp50dir_L4RbOLcecTEh8CNik"},a.prototype.shareUrls={facebook:"https://www.facebook.com/sharer/sharer.php",twitter:"https://www.twitter.com/share",googleplus:"https://plus.google.com/share",pinterest:"http://pinterest.com/pin/create/button",linkedin:"https://www.linkedin.com/shareArticle"},a.prototype.getShareUrl=function(a){var b=!1;return"undefined"!=typeof this.shareUrls[a]&&(b=this.shareUrls[a]),b},a.prototype.setup=function(a){var b=a.getAttribute("data-url"),c=a.getAttribute("data-title"),d=a.getAttribute("data-type");"facebook"==d?this.setupFacebook(a,b,c):"twitter"==d?this.setupTwitter(a,b,c):"googleplus"==d?this.setupGoogleplus(a,b,c):"pinterest"==d?this.setupPinterest(a,b,c):"linkedin"==d&&this.setupLinkedin(a,b,c)},a.prototype.setupFacebook=function(a,b,c){var d=this.getShareUrl("facebook")+"?u="+b+"&title="+c;this.setupShare(a,d,"facebook")},a.prototype.setupTwitter=function(a,b,c){var d=this.getShareUrl("twitter")+"?url="+b+"&text="+c;this.setupShare(a,d,"twitter")},a.prototype.setupGoogleplus=function(a,b,c){var d=this.getShareUrl("googleplus")+"?url="+b+"&title="+c;this.setupShare(a,d,"googleplus")},a.prototype.setupPinterest=function(a,b,c){var d=a.getAttribute("data-media"),e=this.getShareUrl("pinterest")+"?url="+b+"&media="+d+"&description="+c;this.setupShare(a,e,"pinterest")},a.prototype.setupLinkedin=function(a,b,c){var d=a.getAttribute("data-summary"),e=this.getShareUrl("linkedin")+"?mini=true&url="+b+"&title="+c+"&summary="+d;this.setupShare(a,e,"linkedin")},a.prototype.setupShare=function(a,b,c){var d=this;a.getAttribute("data-url");d.changeShareCount(a,c),a.addEventListener("click",function(){var e=d.openShareWindow(b),f=setInterval(function(){1==e.closed&&(d.changeShareCount(a,c),clearInterval(f))},100);return!1})},a.prototype.openShareWindow=function(a){var b=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,d=this.vars.windowWidth,e=this.vars.windowHeight,f=(b-d)/2,g=(c-e)/2,h="status=1,width="+d+",height="+e+",top="+g+",left="+f,i=window.open(a,"social_share",h);return i},a.prototype.changeShareCount=function(a,b){var c=a.getAttribute("data-url");"string"==typeof b?"facebook"==b?this.changeShareCountFacebook(a,c):"twitter"==b?this.changeShareCountTwitter(a,c):"googleplus"==b?this.changeShareCountGoogleplus(a,c):"pinterest"==b?this.changeShareCountPinterest(a,c):"linkedin"==b&&this.changeShareCountLinkedin(a,c):"function"==typeof b&&b(c)},a.prototype.changeShareCountFacebook=function(a,b){var c=this,d=0,e="http://graph.facebook.com/?id="+b;"undefined"!=typeof jQuery&&jQuery.ajax({type:"GET",url:e,async:!1,contentType:"application/json",dataType:"jsonp",success:function(b){"undefined"!=typeof b.shares&&(d=b.shares),c.changeShareCountInfo(a,d)}})},a.prototype.changeShareCountTwitter=function(a,b){var c=this,d=0,e="http://cdn.api.twitter.com/1/urls/count.json?url="+b;"undefined"!=typeof jQuery&&jQuery.ajax({type:"GET",url:e,async:!1,contentType:"application/json",dataType:"jsonp",success:function(b){"undefined"!=typeof b.count&&(d=b.count),c.changeShareCountInfo(a,d)}})},a.prototype.changeShareCountGoogleplus=function(a,b){var c=this,d=0,e=c.vars.googleApiKey,f="https://clients6.google.com/rpc?key="+e;"undefined"!=typeof jQuery&&jQuery.getJSON(f,{method:"pos.plusones.get",id:"p",params:{nolog:!0,id:b,source:"widget",userId:"@viewer",groupId:"@self"},jsonrpc:"2.0",key:"p",apiVersion:"v1"},function(b){"undefined"!=typeof b.count&&(d=b.count),c.changeShareCountInfo(a,d)})},a.prototype.changeShareCountPinterest=function(a,b){var c=this,d=0,e="http://api.pinterest.com/v1/urls/count.json?callback=?&url="+b;"undefined"!=typeof jQuery&&jQuery.ajax({type:"GET",url:e,async:!1,contentType:"application/json",dataType:"jsonp",success:function(b){"undefined"!=typeof b.count&&(d=b.count),c.changeShareCountInfo(a,d)}})},a.prototype.changeShareCountLinkedin=function(a,b){var c=this,d=0,e="http://www.linkedin.com/countserv/count/share?format=jsonp&url="+b;"undefined"!=typeof jQuery&&jQuery.ajax({type:"GET",url:e,async:!1,contentType:"application/json",dataType:"jsonp",success:function(b){"undefined"!=typeof b.count&&(d=b.count),c.changeShareCountInfo(a,d)}})},a.prototype.changeShareCountInfo=function(a,b){var c=a.parentNode,d=c.querySelector(this.vars.countClass);d.textContent=b},window.social_share=a}();